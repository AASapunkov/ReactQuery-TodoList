{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { qKeyTodo, qKeyTodoList, URL } from 'src/constants';\n\nconst useTodosQuery = () => {\n  _s();\n\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isError,\n    isLoading\n  } = useQuery(qKeyTodoList(), () => axios.get(`${URL}/todos`).then(res => {\n    const todoIdList = res.data.map(todoData => {\n      const todoId = todoData.id;\n      queryClient.setQueryData(qKeyTodo(todoId), todoData);\n      return todoId;\n    });\n    return {\n      todoIdList\n    };\n  }));\n  return {\n    data,\n    isError,\n    isLoading\n  };\n};\n\n_s(useTodosQuery, \"/b8/YlAeW8VdJGCH+wxawvDP5mQ=\", false, function () {\n  return [useQueryClient, useQuery];\n});\n\nexport default useTodosQuery;","map":{"version":3,"names":["axios","useQuery","useQueryClient","qKeyTodo","qKeyTodoList","URL","useTodosQuery","queryClient","data","isError","isLoading","get","then","res","todoIdList","map","todoData","todoId","id","setQueryData"],"sources":["/Users/alexandersapunkov/Desktop/Projects/todo-react-query-presentation/src/data/queries/useTodosQuery.js"],"sourcesContent":["import axios from 'axios'\nimport { useQuery, useQueryClient } from 'react-query'\n\nimport { qKeyTodo, qKeyTodoList, URL } from 'src/constants'\n\nconst useTodosQuery = () => {\n  const queryClient = useQueryClient()\n\n  const { data, isError, isLoading } = useQuery(qKeyTodoList(), () =>\n    axios.get(`${URL}/todos`).then((res) => {\n      const todoIdList = res.data.map((todoData) => {\n        const todoId = todoData.id\n\n        queryClient.setQueryData(qKeyTodo(todoId), todoData)\n\n        return todoId\n      })\n\n      return { todoIdList }\n    }),\n  )\n\n  return { data, isError, isLoading }\n}\n\nexport default useTodosQuery\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,aAAzC;AAEA,SAASC,QAAT,EAAmBC,YAAnB,EAAiCC,GAAjC,QAA4C,eAA5C;;AAEA,MAAMC,aAAa,GAAG,MAAM;EAAA;;EAC1B,MAAMC,WAAW,GAAGL,cAAc,EAAlC;EAEA,MAAM;IAAEM,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,IAA+BT,QAAQ,CAACG,YAAY,EAAb,EAAiB,MAC5DJ,KAAK,CAACW,GAAN,CAAW,GAAEN,GAAI,QAAjB,EAA0BO,IAA1B,CAAgCC,GAAD,IAAS;IACtC,MAAMC,UAAU,GAAGD,GAAG,CAACL,IAAJ,CAASO,GAAT,CAAcC,QAAD,IAAc;MAC5C,MAAMC,MAAM,GAAGD,QAAQ,CAACE,EAAxB;MAEAX,WAAW,CAACY,YAAZ,CAAyBhB,QAAQ,CAACc,MAAD,CAAjC,EAA2CD,QAA3C;MAEA,OAAOC,MAAP;IACD,CANkB,CAAnB;IAQA,OAAO;MAAEH;IAAF,CAAP;EACD,CAVD,CAD2C,CAA7C;EAcA,OAAO;IAAEN,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,CAAP;AACD,CAlBD;;GAAMJ,a;UACgBJ,c,EAEiBD,Q;;;AAiBvC,eAAeK,aAAf"},"metadata":{},"sourceType":"module"}